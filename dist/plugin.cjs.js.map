{"version":3,"file":"plugin.cjs.js","sources":["esm/definitions.js","esm/index.js","esm/web.js"],"sourcesContent":["export var MParticleEventType;\n(function (MParticleEventType) {\n    MParticleEventType[MParticleEventType[\"Navigation\"] = 1] = \"Navigation\";\n    MParticleEventType[MParticleEventType[\"Location\"] = 2] = \"Location\";\n    MParticleEventType[MParticleEventType[\"Search\"] = 3] = \"Search\";\n    MParticleEventType[MParticleEventType[\"Transaction\"] = 4] = \"Transaction\";\n    MParticleEventType[MParticleEventType[\"UserContent\"] = 5] = \"UserContent\";\n    MParticleEventType[MParticleEventType[\"UserPreference\"] = 6] = \"UserPreference\";\n    MParticleEventType[MParticleEventType[\"Social\"] = 7] = \"Social\";\n    MParticleEventType[MParticleEventType[\"Other\"] = 8] = \"Other\";\n})(MParticleEventType || (MParticleEventType = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst MParticleCapacitor = registerPlugin('MParticleCapacitor', {\n    web: () => import('./web').then(m => new m.MParticleCapacitorWeb()),\n});\nexport * from './definitions';\nexport { MParticleCapacitor };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nimport mParticle from '@mparticle/web-sdk';\n// @ts-ignore\nimport mParticleBraze from '@mparticle/web-appboy-kit';\nexport class MParticleCapacitorWeb extends WebPlugin {\n    async mParticleInit(call) {\n        call.mParticleKey = 'us1-5ab5289891733e44b00e610dc69e4746';\n        const mParticleConfig = {\n            isDevelopmentMode: true,\n            dataPlan: {\n                planId: 'master_data_plan',\n                planVersion: 2\n            }\n        };\n        console.log('web MPinit', call, mParticleConfig, mParticleBraze);\n        mParticleBraze.register(mParticleConfig);\n        return mParticle.init(call.mParticleKey, mParticleConfig);\n    }\n    async loginMParticleUser(call) {\n        return mParticle.Identity.login(this.identityRequest(call.email, call.customerId));\n    }\n    async logoutMParticleUser(call) {\n        const identityCallback = (result) => {\n            if (result.getUser()) {\n                console.log('logging out of mParticle', call);\n            }\n        };\n        return mParticle.Identity.logout({}, identityCallback);\n    }\n    async logMParticleEvent(call) {\n        console.log('event fired', call);\n        return mParticle.logEvent(call.eventName, call.eventType, call.eventProperties);\n    }\n    async logMParticlePageView(call) {\n        console.log(mParticle, call);\n        return mParticle.logPageView(call.pageName, { page: call.pageLink });\n    }\n    async setUserAttribute(call) {\n        return this.currentUser.setUserAttribute(call.attributeName, call.attributeValue);\n    }\n    get currentUser() {\n        return mParticle.Identity.getCurrentUser();\n    }\n    identityRequest(email, customerId) {\n        return {\n            userIdentities: {\n                email,\n                customerid: customerId\n            },\n        };\n    }\n    async echo(options) {\n        console.log('ECHO', options);\n        return options;\n    }\n    async helloMP() {\n        return 'hello from mParticle';\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["MParticleEventType","registerPlugin","WebPlugin","mParticleBraze","mParticle"],"mappings":"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"}